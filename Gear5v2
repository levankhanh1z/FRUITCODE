local backpack = game:GetService("Players").LocalPlayer.Backpack["Neo Red Hawk"]

if backpack then
   while wait(0.5) do 
      local A_1 = "\78\105\107\97"
      local A_2 = "\71\101\97\114\53"
      local A_3 = {}
      local Event = game:GetService("ReplicatedStorage").Replicator
      Event:InvokeServer(A_1, A_2, A_3)
   end
else
   warn("Backpack not found!")
end


local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local Event = ReplicatedStorage.ReplicatorNoYield
local A_1 = "\78\105\107\97"
local A_2 = "\82\105\115\105\110\103\66\111\108\116"

-- Biến để lưu trữ thông tin MouseRay
local mouseRayData = {}

-- Hàm để lấy danh sách thuộc tính của đối tượng
local function getObjectProperties(object)
    local properties = {}
    for key, value in pairs(object) do
        if type(value) ~= "function" then
            properties[key] = value
        end
    end
    return properties
end

-- Hàm để cập nhật thông tin MouseRay và gửi đến server
local function updateMouseRay()
    local mouse = UserInputService.MouseIcon
    local ray = workspace.CurrentCamera:ScreenPointToRay(mouse.X, mouse.Y)

    -- Tìm đối tượng mà ray đang trỏ vào
    local hitPart, hitPosition = workspace:FindPartOnRayWithIgnoreList(ray, {game.Players.LocalPlayer.Character})

    if hitPart then
        local objectProperties = getObjectProperties(hitPart)
        
        mouseRayData = {
            ["Normal"] = (hitPosition - ray.Origin).Unit,
            ["Direction"] = ray.Direction,
            ["Origin"] = ray.Origin,
            ["Instance"] = objectProperties,  -- Lưu tất cả các thuộc tính của đối tượng
            ["Distance"] = (hitPosition - ray.Origin).Magnitude,
            ["Position"] = hitPosition,
        }

        Event:FireServer(A_1, A_2, {["MouseRay"] = mouseRayData})
    end
end

-- Sự kiện InputChanged để theo dõi sự thay đổi của chuột
UserInputService.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        updateMouseRay()
    end
end)
